"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[929],{5261:(d,g,s)=>{s.d(g,{d:()=>c});var e=s(6814),_=s(4946);let c=(()=>{class n{static#e=this.\u0275fac=function(m){return new(m||n)};static#t=this.\u0275cmp=_.Xpm({type:n,selectors:[["app-btn-loader"]],standalone:!0,features:[_.jDz],decls:1,vars:0,consts:[[1,"loader"]],template:function(m,f){1&m&&_._UZ(0,"span",0)},dependencies:[e.ez],styles:[".loader[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid #FFF;border-bottom-color:transparent;border-radius:50%;display:flex;margin-left:5px;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return n})()},3929:(d,g,s)=>{s.r(g),s.d(g,{LoginComponent:()=>U});var e=s(4946),_=s(6814),c=s(5261),n=s(95),h=s(304),a=s(4670);function m(t,p){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is required "),e.qZA())}function f(t,p){1&t&&(e.TgZ(0,"p"),e._uU(1," Email must be like example@info.com "),e.qZA())}function C(t,p){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,m,2,0,"p",14),e.YNc(2,f,2,0,"p",14),e.qZA()),2&t){const r=e.oxw();let i,o;e.xp6(1),e.Q6J("ngIf",null==(i=r.loginForm.get("email"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.loginForm.get("email"))?null:o.getError("email"))}}function v(t,p){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is required "),e.qZA())}function T(t,p){1&t&&(e.TgZ(0,"p"),e._uU(1," Password min length is 8 Characters "),e.qZA())}function Z(t,p){1&t&&(e.TgZ(0,"p"),e._uU(1," Password max length is 20 Characters "),e.qZA())}function x(t,p){1&t&&(e.TgZ(0,"p"),e._uU(1," Password must include at least one uppercase letter, one lowercase letter, one number and one special character "),e.qZA())}function E(t,p){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,v,2,0,"p",14),e.YNc(2,T,2,0,"p",14),e.YNc(3,Z,2,0,"p",14),e.YNc(4,x,2,0,"p",14),e.qZA()),2&t){const r=e.oxw();let i,o,l,u;e.xp6(1),e.Q6J("ngIf",null==(i=r.loginForm.get("password"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=r.loginForm.get("password"))?null:o.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(l=r.loginForm.get("password"))?null:l.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(u=r.loginForm.get("password"))?null:u.getError("pattern"))}}function b(t,p){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-btn-loader"),e.qZA())}function L(t,p){if(1&t&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.requisError," ")}}let U=(()=>{class t{constructor(r,i,o){this._AuthService=r,this.router=i,this._FormBuilder=o,this.Subscription=[],this.isOpen=!0,this.parentOpenRegComp=new e.vpe,this.parentOpenResetComp=new e.vpe,this.requisError="",this.isloading=!1,this.loginForm=this._FormBuilder.group({email:["",[n.kI.required,n.kI.email]],password:["",[n.kI.required,n.kI.minLength(8),n.kI.maxLength(20),n.kI.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]]})}handelForm(){if(this.isloading=!0,this.userData=this.loginForm.value,this.loginForm.valid){const r=this._AuthService.login(this.userData).subscribe({next:i=>{this.isloading=!1,"success"===i.message&&(localStorage.setItem("token",i.token),this.router.navigate(["/"]).then(()=>{window.location.reload()}))},error:i=>{this.isloading=!1,this.requisError=i.error.message}});this.Subscription.push(r)}}openRegPage(){this.parentOpenRegComp.emit()}openResetComp(){this.parentOpenResetComp.emit()}ngOnDestroy(){this.Subscription.forEach(r=>r.unsubscribe())}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(h.e),e.Y36(a.F0),e.Y36(n.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],outputs:{parentOpenRegComp:"parentOpenRegComp",parentOpenResetComp:"parentOpenResetComp"},standalone:!0,features:[e.jDz],decls:34,vars:6,consts:[[1,"row","align-items-center","justify-content-center","g-0"],[1,"col-12"],[1,"text-secondary","fs-6"],[3,"formGroup","ngSubmit"],[1,"my-3"],["type","email","placeholder","Email","formControlName","email","id","email",1,"form-control"],["class"," text-danger",4,"ngIf"],["type","password","placeholder","Password","formControlName","password","id","password",1,"form-control"],[1,"my-3","w-100","d-flex","align-items-center","justify-content-start","flex-column","flex-md-row","text-secondary","justify-content-md-between"],["type","checkbox","name","Remember","id","Remember",1,"me-2"],["for","Remember"],[1,"text-center","m-0","fs-6"],["role","button",1,"text-main",3,"click"],[1,"btn-main","mt-3","w-100","py-2","rounded-2","d-flex","justify-content-center","align-items-center",3,"disabled"],[4,"ngIf"],[1,"text-center","mt-4","fs-6","text-secondary"],[1,"text-danger"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div")(4,"h2"),e._uU(5,"Sign in to FreshCart "),e.qZA(),e.TgZ(6,"p",2),e._uU(7,"Welcome back to FreshCart! Enter your email to get started. "),e.qZA(),e.TgZ(8,"form",3),e.NdJ("ngSubmit",function(){return o.handelForm()}),e.TgZ(9,"div",4),e._UZ(10,"input",5),e.YNc(11,C,3,2,"div",6),e.qZA(),e.TgZ(12,"div",4),e._UZ(13,"input",7),e.YNc(14,E,5,4,"div",6),e.qZA(),e.TgZ(15,"div",8)(16,"div"),e._UZ(17,"input",9),e.TgZ(18,"label",10),e._uU(19,"Remember me"),e.qZA()(),e.TgZ(20,"div")(21,"p",11),e._uU(22," Forgot password? "),e.TgZ(23,"span",12),e.NdJ("click",function(){return o.openResetComp()}),e._uU(24,"Reset It"),e.qZA()()()(),e.TgZ(25,"button",13),e._uU(26,"Sign In "),e.YNc(27,b,2,0,"div",14),e.qZA(),e.YNc(28,L,2,1,"p",6),e.qZA(),e.TgZ(29,"div")(30,"p",15),e._uU(31," Don\u2019t have an account? "),e.TgZ(32,"span",12),e.NdJ("click",function(){return o.openRegPage()}),e._uU(33,"Sign Up"),e.qZA()()()()()()()),2&i){let l,u;e.xp6(8),e.Q6J("formGroup",o.loginForm),e.xp6(3),e.Q6J("ngIf",(null==(l=o.loginForm.get("email"))?null:l.touched)&&(null==(l=o.loginForm.get("email"))?null:l.errors)),e.xp6(3),e.Q6J("ngIf",(null==(u=o.loginForm.get("password"))?null:u.touched)&&(null==(u=o.loginForm.get("password"))?null:u.errors)),e.xp6(11),e.Q6J("disabled",!o.loginForm.valid),e.xp6(2),e.Q6J("ngIf",o.isloading),e.xp6(1),e.Q6J("ngIf",o.requisError)}},dependencies:[_.ez,_.O5,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,c.d],styles:["[_nghost-%COMP%]{height:100%;display:block;width:100%}p[_ngcontent-%COMP%]{font-size:12px;margin-block:5px}"]})}return t})()},304:(d,g,s)=>{s.d(g,{e:()=>c});var e=s(4946),_=s(9862);let c=(()=>{class n{constructor(a){this._HttpClient=a,this.baseURL="https://ecommerce.routemisr.com/api/v1/auth/"}changePassword(a){return this._HttpClient.put(this.baseURL+"resetPassword",a)}verifyResetCode(a){return this._HttpClient.post(this.baseURL+"verifyResetCode",{resetCode:a.toString()})}forgotPasswords(a){return this._HttpClient.post(this.baseURL+"forgotPasswords",{email:a})}register(a){return this._HttpClient.post(this.baseURL+"signup",a)}login(a){return this._HttpClient.post(this.baseURL+"signin",a)}static#e=this.\u0275fac=function(m){return new(m||n)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);