"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[80],{5261:(h,c,a)=>{a.d(c,{d:()=>i});var g=a(6814),e=a(4946);let i=(()=>{class _{static#e=this.\u0275fac=function(u){return new(u||_)};static#t=this.\u0275cmp=e.Xpm({type:_,selectors:[["app-btn-loader"]],standalone:!0,features:[e.jDz],decls:1,vars:0,consts:[[1,"loader"]],template:function(u,Z){1&u&&e._UZ(0,"span",0)},dependencies:[g.ez],styles:[".loader[_ngcontent-%COMP%]{width:20px;height:20px;border:3px solid #FFF;border-bottom-color:transparent;border-radius:50%;display:flex;margin-left:5px;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return _})()},2080:(h,c,a)=>{a.r(c),a.d(c,{RegisterComponent:()=>D});var g=a(6814),e=a(4946),i=a(95),_=a(5261),x=a(304),l=a(4670);function u(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name is required "),e.qZA())}function Z(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name min length is 4 Characters "),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name max length is 20 Characters "),e.qZA())}function C(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Name must contain only charcters and numbers "),e.qZA())}function E(t,s){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,u,2,0,"p",16),e.YNc(2,Z,2,0,"p",16),e.YNc(3,T,2,0,"p",16),e.YNc(4,C,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let o,n,p,m;e.xp6(1),e.Q6J("ngIf",null==(o=r.registerForm.get("name"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.registerForm.get("name"))?null:n.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(p=r.registerForm.get("name"))?null:p.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(m=r.registerForm.get("name"))?null:m.getError("pattern"))}}function A(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Email is required "),e.qZA())}function P(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Email must be like example@info.com "),e.qZA())}function I(t,s){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,A,2,0,"p",16),e.YNc(2,P,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let o,n;e.xp6(1),e.Q6J("ngIf",null==(o=r.registerForm.get("email"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.registerForm.get("email"))?null:n.getError("email"))}}function U(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password is required "),e.qZA())}function R(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password min length is 8 Characters "),e.qZA())}function w(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password max length is 20 Characters "),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Password must include at least one uppercase letter, one lowercase letter, one number and one special character "),e.qZA())}function q(t,s){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,U,2,0,"p",16),e.YNc(2,R,2,0,"p",16),e.YNc(3,w,2,0,"p",16),e.YNc(4,F,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let o,n,p,m;e.xp6(1),e.Q6J("ngIf",null==(o=r.registerForm.get("password"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.registerForm.get("password"))?null:n.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(p=r.registerForm.get("password"))?null:p.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(m=r.registerForm.get("password"))?null:m.getError("pattern"))}}function N(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Repassword is required "),e.qZA())}function y(t,s){1&t&&(e.TgZ(0,"p",21),e._uU(1," Password does'nt match. "),e.qZA())}function b(t,s){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,N,2,0,"p",16),e.YNc(2,y,2,0,"p",20),e.qZA()),2&t){const r=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",null==(o=r.registerForm.get("rePassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==r.registerForm.errors?null:r.registerForm.errors.PasswordNoMatch)}}function L(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Phone is required "),e.qZA())}function O(t,s){1&t&&(e.TgZ(0,"p"),e._uU(1," Allowed Egyption phone numbers only "),e.qZA())}function J(t,s){if(1&t&&(e.TgZ(0,"div",19),e.YNc(1,L,2,0,"p",16),e.YNc(2,O,2,0,"p",16),e.qZA()),2&t){const r=e.oxw();let o,n;e.xp6(1),e.Q6J("ngIf",null==(o=r.registerForm.get("phone"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.registerForm.get("phone"))?null:n.getError("pattern"))}}function M(t,s){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-btn-loader"),e.qZA())}function Y(t,s){if(1&t&&(e.TgZ(0,"p",19),e._uU(1),e.qZA()),2&t){const r=e.oxw();e.xp6(1),e.hij(" ",r.requisError," ")}}let D=(()=>{class t{constructor(r,o,n){this._AuthService=r,this.router=o,this._FormBuilder=n,this.Subscription=[],this.loadingAnimation=!0,this.parentOpenLoginComp=new e.vpe,this.requisError="",this.isloading=!1,this.confirmPasswordValidator=p=>p.value.password===p.value.rePassword?null:{PasswordNoMatch:!0},this.registerForm=this._FormBuilder.group({name:["",[i.kI.required,i.kI.minLength(4),i.kI.maxLength(20),i.kI.pattern(/[a-zA-Z0-9]{4,20}/)]],email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.minLength(8),i.kI.maxLength(20),i.kI.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)]],rePassword:["",[i.kI.required]],phone:["",[i.kI.required,i.kI.pattern(/^(\+201|01|201)(0|1|2|5)[0-9]{8}$/)]]},{validators:this.confirmPasswordValidator})}handelForm(){if(this.isloading=!0,this.registerForm.valid){this.userData=this.registerForm.value;const r=this._AuthService.register(this.userData).subscribe({next:o=>{this.isloading=!1,"success"===o.message&&(localStorage.setItem("token",o.token),this.router.navigate(["/"]))},error:o=>{this.isloading=!1,this.requisError=o.error.message}});this.Subscription.push(r)}}openLoginPage(){this.parentOpenLoginComp.emit()}ngOnDestroy(){this.Subscription.forEach(r=>r.unsubscribe())}static#e=this.\u0275fac=function(o){return new(o||t)(e.Y36(x.e),e.Y36(l.F0),e.Y36(i.qu))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],outputs:{parentOpenLoginComp:"parentOpenLoginComp"},standalone:!0,features:[e.jDz],decls:39,vars:9,consts:[[1,"row","align-items-center","justify-content-center","g-0"],[1,"col-12"],[1,"rounded-3"],[1,""],[1,"fs-6","text-secondary"],[3,"formGroup","ngSubmit"],[1,"my-3"],["type","text","placeholder","Name","formControlName","name","id","name",1,"form-control"],["class"," text-danger",4,"ngIf"],["type","email","placeholder","Email","formControlName","email","id","email",1,"form-control"],["type","password","placeholder","Password","formControlName","password","id","password",1,"form-control"],["type","password","placeholder","Repassword","formControlName","rePassword","id","rePassword",1,"form-control"],["type","tel","placeholder","Phone","formControlName","phone","id","phone",1,"form-control"],[1,"text-secondary"],[1,"text-main","fw-bold"],[1,"btn-main","mt-3","w-100","d-flex","justify-content-center","align-items-center","rounded-2","px-3","py-2",3,"disabled"],[4,"ngIf"],[1,"text-center","mt-4","fs-6","text-secondary","mb-0"],["role","button",1,"text-main",3,"click"],[1,"text-danger"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e._uU(4,"Get Start Shopping"),e.qZA(),e.TgZ(5,"p",4),e._uU(6,"Welcome to FreshCart! Enter your email to get started."),e.qZA(),e.TgZ(7,"form",5),e.NdJ("ngSubmit",function(){return n.handelForm()}),e.TgZ(8,"div",6),e._UZ(9,"input",7),e.YNc(10,E,5,4,"div",8),e.qZA(),e.TgZ(11,"div",6),e._UZ(12,"input",9),e.YNc(13,I,3,2,"div",8),e.qZA(),e.TgZ(14,"div",6),e._UZ(15,"input",10),e.YNc(16,q,5,4,"div",8),e.qZA(),e.TgZ(17,"div",6),e._UZ(18,"input",11),e.YNc(19,b,3,2,"div",8),e.qZA(),e.TgZ(20,"div",6),e._UZ(21,"input",12),e.YNc(22,J,3,2,"div",8),e.qZA(),e.TgZ(23,"p",13),e._uU(24," By Signup, you agree to our "),e.TgZ(25,"span",14),e._uU(26,"Terms of Service"),e.qZA(),e._uU(27," & "),e.TgZ(28,"span",14),e._uU(29," Privacy Policy"),e.qZA()(),e.TgZ(30,"button",15),e._uU(31,"Sign Up "),e.YNc(32,M,2,0,"div",16),e.qZA(),e.YNc(33,Y,2,1,"p",8),e.qZA(),e.TgZ(34,"div")(35,"p",17),e._uU(36," Already have an account? "),e.TgZ(37,"span",18),e.NdJ("click",function(){return n.openLoginPage()}),e._uU(38,"Sign in"),e.qZA()()()()()()),2&o){let p,m,d,v,f;e.xp6(7),e.Q6J("formGroup",n.registerForm),e.xp6(3),e.Q6J("ngIf",(null==(p=n.registerForm.get("name"))?null:p.touched)&&(null==(p=n.registerForm.get("name"))?null:p.errors)),e.xp6(3),e.Q6J("ngIf",(null==(m=n.registerForm.get("email"))?null:m.touched)&&(null==(m=n.registerForm.get("email"))?null:m.errors)),e.xp6(3),e.Q6J("ngIf",(null==(d=n.registerForm.get("password"))?null:d.touched)&&(null==(d=n.registerForm.get("password"))?null:d.errors)),e.xp6(3),e.Q6J("ngIf",null==(v=n.registerForm.get("rePassword"))?null:v.touched),e.xp6(3),e.Q6J("ngIf",(null==(f=n.registerForm.get("phone"))?null:f.touched)&&(null==(f=n.registerForm.get("phone"))?null:f.errors)),e.xp6(8),e.Q6J("disabled",!n.registerForm.valid),e.xp6(2),e.Q6J("ngIf",n.isloading),e.xp6(1),e.Q6J("ngIf",n.requisError)}},dependencies:[g.ez,g.O5,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.d],styles:["p[_ngcontent-%COMP%]{font-size:12px;margin-block:5px}"]})}return t})()},304:(h,c,a)=>{a.d(c,{e:()=>i});var g=a(4946),e=a(9862);let i=(()=>{class _{constructor(l){this._HttpClient=l,this.baseURL="https://ecommerce.routemisr.com/api/v1/auth/"}changePassword(l){return this._HttpClient.put(this.baseURL+"resetPassword",l)}verifyResetCode(l){return this._HttpClient.post(this.baseURL+"verifyResetCode",{resetCode:l.toString()})}forgotPasswords(l){return this._HttpClient.post(this.baseURL+"forgotPasswords",{email:l})}register(l){return this._HttpClient.post(this.baseURL+"signup",l)}login(l){return this._HttpClient.post(this.baseURL+"signin",l)}static#e=this.\u0275fac=function(u){return new(u||_)(g.LFG(e.eN))};static#t=this.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}return _})()}}]);