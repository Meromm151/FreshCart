"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[519],{1519:(h,l,o)=>{o.r(l),o.d(l,{CartComponent:()=>U});var d=o(6814),m=o(1409),g=o(4670),t=o(4946),u=o(6286);function C(n,s){1&n&&(t.TgZ(0,"span",18),t._uU(1," There is no items in your cart\n"),t.qZA())}function a(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1,"..."),t.qZA())}const p=function(n){return{"background-image":n}};function f(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"div",22),t._UZ(2,"div",23),t.TgZ(3,"div",24)(4,"div",25)(5,"h6"),t._uU(6),t.ALo(7,"cutText"),t.YNc(8,a,2,0,"span",10),t.qZA(),t.TgZ(9,"button",26),t._UZ(10,"i",27),t.TgZ(11,"span",28),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.cartRemove(c.product._id))}),t._uU(12,"Remove"),t.qZA()()(),t.TgZ(13,"div",29)(14,"div",30)(15,"button",31),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.updateCountdecrement(c.product._id,c.count))}),t._uU(16,"-"),t.qZA(),t._UZ(17,"input",32),t.TgZ(18,"button",31),t.NdJ("click",function(){const c=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.updateCountincrement(c.product._id,c.count))}),t._uU(19,"+"),t.qZA()(),t.TgZ(20,"span"),t._uU(21),t.qZA()()()()()}if(2&n){const e=s.$implicit;t.xp6(2),t.Q6J("ngStyle",t.VKq(8,p,"url("+e.product.imageCover+")")),t.xp6(4),t.hij(" ",t.xi3(7,5,e.product.title,25)," "),t.xp6(2),t.Q6J("ngIf",e.product.title.length>25),t.xp6(9),t.Q6J("value",e.count),t.xp6(4),t.hij("",e.price*e.count,".00 LE")}}function b(n,s){if(1&n&&(t.TgZ(0,"div",19),t.YNc(1,f,22,10,"div",20),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dynamicCart.data.products)}}function x(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.dynamicCart.data.totalCartPrice,".00 LE")}}function v(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.dynamicCart.data.totalCartPrice,".00 LE")}}function Z(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",e.dynamicCart.data.totalCartPrice,".00 LE")}}const y=function(n){return["/checkout",n]};function T(n,s){if(1&n&&(t.TgZ(0,"button",33)(1,"span"),t._uU(2,"Go to Checkout"),t.qZA(),t.YNc(3,Z,2,1,"span",10),t.qZA()),2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(2,y,e.dynamicCart.data._id)),t.xp6(3),t.Q6J("ngIf",null!=e.dynamicCart)}}let U=(()=>{class n{constructor(e){this._CartService=e,this.Subscription=[]}ngOnInit(){this.getUserCart()}getUserCart(){const e=this._CartService.getUserCart().subscribe({next:r=>{this.dynamicCart=r},error:r=>{}});this.Subscription.push(e)}cartRemove(e){const r=this._CartService.removeProduct(e).subscribe({next:i=>{this.dynamicCart=i,this._CartService.cartItemsnumber.next(i.numOfCartItems)},error:i=>{}});this.Subscription.push(r)}updateCountincrement(e,r){r=++r,this.updateCount(e,r)}updateCountdecrement(e,r){(r=--r)<=0?this.cartRemove(e):this.updateCount(e,r)}updateCount(e,r){const i=this._CartService.updateCount(e,r).subscribe({next:c=>{this.dynamicCart=c},error:c=>{}});this.Subscription.push(i)}ngOnDestroy(){this.Subscription.forEach(e=>e.unsubscribe())}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(u.N))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-cart"]],standalone:!0,features:[t.jDz],decls:40,vars:6,consts:[[1,"d-flex","justify-content-between","align-items-start"],["class","msg",4,"ngIf"],[1,"row","align-items-start","g-3"],[1,"col-lg-8"],["class","row",4,"ngIf"],[1,"col-lg-4"],[1,"border-1","border","light-border","rounded-3","p-4","mt-2"],[1,"border-1","border","light-border","rounded-3","p-2","px-0"],[1,"p-0","m-0"],[1,"d-flex","justify-content-between","px-3","align-items-center","pb-2","border-1","light-border","border-bottom"],[4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","py-2","border-1","light-border","border-bottom","px-3"],[1,"d-flex","justify-content-between","align-items-center","pt-2","px-3"],["class"," btn-main w-100 d-flex justify-content-between align-items-center p-2 fs-5 fw-bold my-3",3,"routerLink",4,"ngIf"],[1,"mb-4"],[1,"text-main"],["type","text","placeholder","Promo or Gift Card",1,"form-control","p-2"],[1,"btn","btn-outline-dark","w-100","p-2","fs-6","fw-bold","my-3"],[1,"msg"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"d-flex","justify-content-between","mt-2","product"],[2,"width","25%","height","120px","background-size","cover","background-position","center center",3,"ngStyle"],[1,"w-75","d-flex","justify-content-center","justify-content-lg-between","align-items-center","p-3","flex-wrap","flex-lg-nowrap"],[1,"w-50"],[1,"btn","p-0","text-danger"],[1,"fa-regular","fa-trash-can","me-2"],[3,"click"],[1,"d-flex","flex-column","align-items-center","align-items-lg-end","justify-content-between"],[1,"rounded-3","overflow-hidden","my-2","border","border-1","border-secondary","d-inline-block"],[1,"btn-light","p-1","rounded-0",2,"width","30px",3,"click"],["type","text",1,"py-1","border-0","text-center",2,"width","30px",3,"value"],[1,"btn-main","w-100","d-flex","justify-content-between","align-items-center","p-2","fs-5","fw-bold","my-3",3,"routerLink"]],template:function(r,i){1&r&&(t.TgZ(0,"div",0)(1,"div")(2,"h2"),t._uU(3,"Shop Cart"),t.qZA()()(),t.YNc(4,C,2,0,"span",1),t.TgZ(5,"div",2)(6,"div",3),t.YNc(7,b,2,1,"div",4),t.qZA(),t.TgZ(8,"div",5)(9,"div",6)(10,"h4"),t._uU(11,"Summary"),t.qZA(),t.TgZ(12,"div",7)(13,"ul",8)(14,"li",9)(15,"span"),t._uU(16," Item Subtotal "),t.qZA(),t.YNc(17,x,2,1,"span",10),t.qZA(),t.TgZ(18,"li",11)(19,"span"),t._uU(20," Service Fee "),t.qZA(),t.TgZ(21,"span"),t._uU(22),t.qZA()(),t.TgZ(23,"li",12)(24,"span"),t._uU(25," Subtotal "),t.qZA(),t.YNc(26,v,2,1,"span",10),t.qZA()()(),t.YNc(27,T,4,4,"button",13),t.TgZ(28,"p",14),t._uU(29," By placing your order, you agree to be bound by the Freshcart "),t.TgZ(30,"span",15),t._uU(31," Terms of Service "),t.qZA(),t._uU(32," and "),t.TgZ(33,"span",15),t._uU(34," Privacy Policy. "),t.qZA()(),t.TgZ(35,"h5"),t._uU(36,"Add Promo or Gift Card "),t.qZA(),t._UZ(37,"input",16),t.TgZ(38,"button",17),t._uU(39,"Redeem"),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("ngIf",null==i.dynamicCart||0==i.dynamicCart.data.products.length),t.xp6(3),t.Q6J("ngIf",null!=i.dynamicCart),t.xp6(10),t.Q6J("ngIf",null!=i.dynamicCart),t.xp6(5),t.hij("",0,".00 LE"),t.xp6(4),t.Q6J("ngIf",null!=i.dynamicCart),t.xp6(1),t.Q6J("ngIf",null!=i.dynamicCart))},dependencies:[d.ez,d.sg,d.O5,d.PC,m.Q,g.rH],styles:["p[_ngcontent-%COMP%]{font-size:13px;color:gray;font-weight:400}.msg[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#0aad0a;margin-top:20px}"]})}return n})()},6286:(h,l,o)=>{o.d(l,{N:()=>t});var d=o(9862),m=o(5619),g=o(4946);let t=(()=>{class u{constructor(a){this._httpclient=a,this.cartItemsnumber=new m.X(0),this.newCartItemAdded=new m.X(0),this.baseURL="https://ecommerce.routemisr.com/api/v1/cart",this.headers=new d.WM({token:localStorage.getItem("token")})}addProductToCart(a){return this._httpclient.post(this.baseURL,{productId:a},{headers:this.headers})}getUserCart(){return this._httpclient.get(this.baseURL,{headers:this.headers})}removeProduct(a){return this._httpclient.delete(this.baseURL+"/"+a,{headers:this.headers})}updateCount(a,p){return this._httpclient.put(this.baseURL+"/"+a,{count:`${p}`},{headers:this.headers})}static#t=this.\u0275fac=function(p){return new(p||u)(g.LFG(d.eN))};static#e=this.\u0275prov=g.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()}}]);