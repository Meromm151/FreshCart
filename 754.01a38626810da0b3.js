"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[754],{3754:(A,u,a)=>{a.r(u),a.d(u,{ProductsByCategoryComponent:()=>x});var c=a(6814),l=a(4670),g=a(1704),t=a(4946),d=a(0),p=a(5884);const _=["numberOfProducts"];function P(s,i){1&s&&t._UZ(0,"i",36)}function h(s,i){1&s&&t._UZ(0,"i",37)}const f=function(s){return[s]};function m(s,i){if(1&s&&(t.TgZ(0,"li")(1,"a",8)(2,"div",9)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span"),t._UZ(6,"i",10),t.qZA()()()()),2&s){const e=i.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(2,f,"/products/"+e)),t.xp6(3),t.hij(" ",e," ")}}function C(s,i){if(1&s&&(t.TgZ(0,"div",38),t._UZ(1,"app-product-card",39),t.qZA()),2&s){const e=i.$implicit,o=t.oxw();t.Tol("col-lg-"+12/+o.productsPerRow+" col-md-"+12/+o.productsPerRow),t.xp6(1),t.Q6J("product",e)}}function v(s,i){1&s&&(t.TgZ(0,"span",40),t._uU(1," No Products Found in this Category"),t.qZA())}const y=function(s){return{activeCurrentPage:s}};function b(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"li",48),t.NdJ("click",function(r){t.CHM(e);const n=t.oxw(2);return t.KtG(n.getCurrentPageProducts(r))}),t.TgZ(1,"a",49),t._uU(2),t.qZA()()}if(2&s){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,y,e==o.currentPage)),t.xp6(1),t.Oqu(e)}}function Z(s,i){if(1&s){const e=t.EpF();t.TgZ(0,"nav",41)(1,"ul",42)(2,"li",43)(3,"button",44),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.prevPage())}),t.TgZ(4,"span",45),t._uU(5,"\xab"),t.qZA()()(),t.YNc(6,b,3,4,"li",46),t.TgZ(7,"li",43)(8,"button",47),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.nextPage())}),t.TgZ(9,"span",45),t._uU(10,"\xbb"),t.qZA()()()()()}if(2&s){const e=t.oxw();t.xp6(3),t.Q6J("disabled",1==e.currentPage),t.xp6(3),t.Q6J("ngForOf",e.arrOfPages),t.xp6(2),t.Q6J("disabled",e.currentPage==e.numberOfPages)}}const T=function(){return["/products/All Products"]};let x=(()=>{class s{constructor(e,o,r){this._ProductService=e,this.route=o,this._categoriesService=r,this.Subscription=[],this.show=!0,this.Categoryname="",this.totalProductsNumber=0,this.categories=[],this.products=[],this.productsPerPage=6,this.productsPerRow="3",this.currentPage=1,this.arrOfPages=[],this.viewedProducts=[]}ngOnInit(){this.getCategoryName(),this.getCategories()}changeProductsPerRow(e){this.productsPerRow=e}collapse(){this.show=!this.show}nextPage(){this.currentPage++,setTimeout(()=>{this.viewedProducts=this.products.slice((this.currentPage-1)*this.productsPerPage,(this.currentPage-1)*this.productsPerPage+this.productsPerPage)},50)}prevPage(){this.currentPage--,setTimeout(()=>{this.viewedProducts=this.products.slice((this.currentPage-1)*this.productsPerPage,(this.currentPage-1)*this.productsPerPage+this.productsPerPage)},50)}getCurrentPageProducts(e){this.currentPage=1!=e?e.target.childNodes[0].nodeValue:1,setTimeout(()=>{this.viewedProducts=this.products.slice((this.currentPage-1)*this.productsPerPage,(this.currentPage-1)*this.productsPerPage+this.productsPerPage)},50)}setProductsPerPage(){this.productsPerPage=+this.numberOfProducts.nativeElement.value,setTimeout(()=>{this.viewedProducts=this.products.slice((this.currentPage-1)*this.productsPerPage,(this.currentPage-1)*this.productsPerPage+this.productsPerPage)},50),setTimeout(()=>{this.pagination()},100)}getProducts(){const e=this._ProductService.getAllProducts(50).subscribe({next:o=>{"All Products"==this.Categoryname?(this.totalProductsNumber=o.results,this.products=o.data):this.products=o.data.filter(r=>r.category.name==this.Categoryname),setTimeout(()=>{this.pagination()},100),this.getCurrentPageProducts(1)},error:o=>{}});this.Subscription.push(e)}getCategoryName(){const e=this.route.paramMap.subscribe({next:o=>{this.Categoryname=o.get("catName"),this.getProducts()}});this.Subscription.push(e)}getCategories(){const e=this._categoriesService.getAllCategories().subscribe({next:o=>{this.categories=o.data.map(r=>r.name)},error:o=>{}});this.Subscription.push(e)}pagination(){this.numberOfPages=Math.ceil(this.products.length/this.productsPerPage),this.arrOfPages=Array.from({length:this.numberOfPages},(e,o)=>o+1)}ngOnDestroy(){this.Subscription.forEach(e=>e.unsubscribe())}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(d.M),t.Y36(l.gz),t.Y36(p.G))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-products-by-category"]],viewQuery:function(o,r){if(1&o&&t.Gf(_,5),2&o){let n;t.iGM(n=t.CRH())&&(r.numberOfProducts=n.first)}},standalone:!0,features:[t.jDz],decls:53,vars:12,consts:[[1,"row","position-relative"],[1,"col-lg-3","top-0","end-0"],[1,"d-flex","justify-content-between","align-items-center"],["data-bs-toggle","collapse","href","#collapseExample","role","button","aria-controls","collapseExample",1,"btn",3,"click"],["class","fa-solid fa-angle-down",4,"ngIf"],["class","fa-solid fa-angle-up",4,"ngIf"],["id","collapseExample",1,"collapse",3,"ngClass"],[1,"list-unstyled","p-0","m-0","pe-4","pt-3"],["routerLinkActive","link-active",1,"text-decoration-none","border-1","border-bottom","px-2","light-border","nav-link",3,"routerLink"],[1,"d-flex","justify-content-between","align-items-center","py-2"],[1,"fa-solid","fa-angle-right"],[4,"ngFor","ngForOf"],[1,"col-lg-9"],[1,"bg-dark-subtle","rounded-3"],[1,"ps-3","py-5","m-0"],[1,"d-flex","justify-content-between","align-content-center","py-3"],[1,"text-nowrap","d-flex","align-items-center"],[1,"text-secondary","ms-1"],[1,"d-flex","align-items-center","justify-content-center"],[1,"sortIcons","d-flex"],[1,"btn","text-secondary",3,"click"],[1,"fa-solid","fa-list"],[1,"fa-solid","fa-grip-vertical"],[1,"fa-solid","fa-grip"],[1,"sortFeatures","d-flex"],[1,"sortCount","me-2"],["aria-label","Default select example",1,"form-select",3,"change"],["numberOfProducts",""],["selected","","value","6"],["value","12"],["value","18"],["value","24"],[1,"row","g-3"],["class","col-12 col-sm-6 col-md-4 col-lg-4",3,"class",4,"ngFor","ngForOf"],["class","text-main fs-3",4,"ngIf"],["aria-label","Page navigation example",4,"ngIf"],[1,"fa-solid","fa-angle-down"],[1,"fa-solid","fa-angle-up"],[1,"col-12","col-sm-6","col-md-4","col-lg-4"],[3,"product"],[1,"text-main","fs-3"],["aria-label","Page navigation example"],[1,"pagination","mt-5","justify-content-center"],[1,"page-item"],["href","#","aria-label","Previous",1,"page-link",3,"disabled","click"],["aria-hidden","true"],["class","page-item","role","button",3,"click",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"disabled","click"],["role","button",1,"page-item",3,"click"],[1,"page-link",3,"ngClass"]],template:function(o,r){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"h5"),t._uU(5,"Categories"),t.qZA(),t.TgZ(6,"a",3),t.NdJ("click",function(){return r.collapse()}),t.YNc(7,P,1,0,"i",4),t.YNc(8,h,1,0,"i",5),t.qZA()(),t.TgZ(9,"div",6)(10,"ul",7)(11,"li")(12,"a",8)(13,"div",9)(14,"span"),t._uU(15," All Products "),t.qZA(),t.TgZ(16,"span"),t._UZ(17,"i",10),t.qZA()()()(),t.YNc(18,m,7,4,"li",11),t.qZA()()()(),t.TgZ(19,"div",12)(20,"div")(21,"div",13)(22,"h1",14),t._uU(23),t.qZA()(),t.TgZ(24,"div",15)(25,"div",16),t._uU(26),t.TgZ(27,"span",17),t._uU(28," Products found"),t.qZA()(),t.TgZ(29,"div",18)(30,"div",19)(31,"button",20),t.NdJ("click",function(){return r.changeProductsPerRow("1")}),t._UZ(32,"i",21),t.qZA(),t.TgZ(33,"button",20),t.NdJ("click",function(){return r.changeProductsPerRow("2")}),t._UZ(34,"i",22),t.qZA(),t.TgZ(35,"button",20),t.NdJ("click",function(){return r.changeProductsPerRow("3")}),t._UZ(36,"i",23),t.qZA()(),t.TgZ(37,"div",24)(38,"div",25)(39,"select",26,27),t.NdJ("change",function(){return r.setProductsPerPage()}),t.TgZ(41,"option",28),t._uU(42,"Show: 6"),t.qZA(),t.TgZ(43,"option",29),t._uU(44,"12"),t.qZA(),t.TgZ(45,"option",30),t._uU(46,"18"),t.qZA(),t.TgZ(47,"option",31),t._uU(48,"24"),t.qZA()()()()()(),t.TgZ(49,"div",32),t.YNc(50,C,2,3,"div",33),t.YNc(51,v,2,0,"span",34),t.qZA(),t.YNc(52,Z,11,3,"nav",35),t.qZA()()()),2&o){const n=t.MAs(40);t.xp6(6),t.uIk("aria-expanded",r.show),t.xp6(1),t.Q6J("ngIf",!r.show),t.xp6(1),t.Q6J("ngIf",r.show),t.xp6(1),t.Q6J("ngClass",r.show?"show":""),t.xp6(3),t.Q6J("routerLink",t.DdM(11,T)),t.xp6(6),t.Q6J("ngForOf",r.categories),t.xp6(5),t.Oqu(r.Categoryname),t.xp6(3),t.hij(" ",r.products.length," "),t.xp6(24),t.Q6J("ngForOf",r.viewedProducts),t.xp6(1),t.Q6J("ngIf",r.products.length<=0),t.xp6(1),t.Q6J("ngIf",r.products.length>+n.selectedOptions[0].value)}},dependencies:[c.ez,c.mk,c.sg,c.O5,g.Y,l.rH],styles:[".activeCurrentPage[_ngcontent-%COMP%]{color:#fff!important;background-color:#0aad0a}.btn-collapse-shape[_ngcontent-%COMP%]{width:40px;height:40px;background-color:transparent;font-size:16px;border:0}"]})}return s})()}}]);