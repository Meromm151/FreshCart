"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[249],{2249:(Z,h,l)=>{l.r(h),l.d(h,{CheckOutComponent:()=>z});var e=l(4946),c=l(6814),o=l(95),g=l(9862);let p=(()=>{class r{constructor(t){this._httpClient=t,this.headers=new g.WM({token:localStorage.getItem("token")}),this.baseURL="https://ecommerce.routemisr.com/api/v1/addresses/"}getAddresses(){return this._httpClient.get(this.baseURL,{headers:this.headers})}removeAddress(t){return this._httpClient.delete(this.baseURL+t,{headers:this.headers})}addNewAddress(t){return this._httpClient.post(this.baseURL,t,{headers:this.headers})}static#e=this.\u0275fac=function(s){return new(s||r)(e.LFG(g.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function x(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Name is required "),e.qZA())}function u(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Name must be at least 4 characters "),e.qZA())}function _(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Name must be at most 15 characters "),e.qZA())}function A(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Name must be like example "),e.qZA())}function y(r,d){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,x,2,0,"p",15),e.YNc(2,u,2,0,"p",15),e.YNc(3,_,2,0,"p",15),e.YNc(4,A,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();let s,n,i,a;e.xp6(1),e.Q6J("ngIf",null==(s=t.userDataForm.get("name"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=t.userDataForm.get("name"))?null:n.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(i=t.userDataForm.get("name"))?null:i.getError("maxlength")),e.xp6(1),e.Q6J("ngIf",null==(a=t.userDataForm.get("name"))?null:a.getError("pattern"))}}function T(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Details is required "),e.qZA())}function v(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Details must be at least 4 characters "),e.qZA())}function C(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Details must be at most 100 characters "),e.qZA())}function U(r,d){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,T,2,0,"p",15),e.YNc(2,v,2,0,"p",15),e.YNc(3,C,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();let s,n,i;e.xp6(1),e.Q6J("ngIf",null==(s=t.userDataForm.get("details"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=t.userDataForm.get("details"))?null:n.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(i=t.userDataForm.get("details"))?null:i.getError("maxlength"))}}function k(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Phone is required "),e.qZA())}function q(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," Phone must an Egyption Phone "),e.qZA())}function F(r,d){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,k,2,0,"p",15),e.YNc(2,q,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();let s,n;e.xp6(1),e.Q6J("ngIf",null==(s=t.userDataForm.get("phone"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=t.userDataForm.get("phone"))?null:n.getError("pattern"))}}function N(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," City is required "),e.qZA())}function O(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," City must be at least 4 characters "),e.qZA())}function w(r,d){1&r&&(e.TgZ(0,"p"),e._uU(1," City must be at most 20 characters "),e.qZA())}function J(r,d){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,N,2,0,"p",15),e.YNc(2,O,2,0,"p",15),e.YNc(3,w,2,0,"p",15),e.qZA()),2&r){const t=e.oxw();let s,n,i;e.xp6(1),e.Q6J("ngIf",null==(s=t.userDataForm.get("city"))?null:s.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=t.userDataForm.get("city"))?null:n.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(i=t.userDataForm.get("city"))?null:i.getError("maxlength"))}}let I=(()=>{class r{constructor(t,s){this._addresses=t,this._FormBuilder=s,this.clearViewContainer=new e.vpe,this.userDataForm=this._FormBuilder.group({name:["",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(15),o.kI.pattern(/[a-zA-Z]{4,15}/)]],details:["",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(100)]],phone:["",[o.kI.required,o.kI.pattern(/^(\+201|01|201)(0|1|2|5)[0-9]{8}$/)]],city:["",[o.kI.required,o.kI.minLength(4),o.kI.maxLength(20)]]})}addNewAddress(t){this.subscription=this._addresses.addNewAddress(t).subscribe({next:s=>{this.clearViewContainer.emit()}})}handelForm(){this.userDataForm.valid&&this.addNewAddress(this.userDataForm.value)}triggerComp(){this.clearViewContainer.emit()}ngOnDestroy(){this.subscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||r)(e.Y36(p),e.Y36(o.qu))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-address-form"]],outputs:{clearViewContainer:"clearViewContainer"},standalone:!0,features:[e.jDz],decls:22,vars:6,consts:[[1,"layer","position-fixed","top-0","end-0","h-100","row","justify-content-center","align-items-center","px-4",2,"background-color","rgba(0, 0, 0, 0.514)","z-index","9999999","width","105%"],[1,"innerLayer","bg-white","rounded-3","col-12","col-md-8","col-lg-5","col-xl-4"],["role","button",1,"text-end","pe-3","pt-3","fs-5",3,"click"],[1,"fa-solid","fa-xmark"],[1,"ps-3"],[1,"p-3","pt-0"],[3,"formGroup","ngSubmit"],[1,"my-3"],["type","text","placeholder","Name","formControlName","name","id","name",1,"form-control"],["class"," text-danger",4,"ngIf"],["type","text","placeholder","Details","formControlName","details","id","details",1,"form-control"],["type","text","placeholder","Phone","formControlName","phone","id","phone",1,"form-control"],["type","text","placeholder","City","formControlName","city","id","city",1,"form-control"],[1,"btn-main","mt-3","w-100","d-flex","justify-content-center","align-items-center","rounded-2","px-3","py-2",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return n.triggerComp()}),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"h5",4),e._uU(5,"Add new address"),e.qZA(),e.TgZ(6,"div",5)(7,"form",6),e.NdJ("ngSubmit",function(){return n.handelForm()}),e.TgZ(8,"div",7),e._UZ(9,"input",8),e.YNc(10,y,5,4,"div",9),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"input",10),e.YNc(13,U,4,3,"div",9),e.qZA(),e.TgZ(14,"div",7),e._UZ(15,"input",11),e.YNc(16,F,3,2,"div",9),e.qZA(),e.TgZ(17,"div",7),e._UZ(18,"input",12),e.YNc(19,J,4,3,"div",9),e.qZA(),e.TgZ(20,"button",13),e._uU(21,"Add address "),e.qZA()()()()()),2&s){let i,a,m,f;e.xp6(7),e.Q6J("formGroup",n.userDataForm),e.xp6(3),e.Q6J("ngIf",(null==(i=n.userDataForm.get("name"))?null:i.touched)&&(null==(i=n.userDataForm.get("name"))?null:i.errors)),e.xp6(3),e.Q6J("ngIf",(null==(a=n.userDataForm.get("details"))?null:a.touched)&&(null==(a=n.userDataForm.get("details"))?null:a.errors)),e.xp6(3),e.Q6J("ngIf",(null==(m=n.userDataForm.get("phone"))?null:m.touched)&&(null==(m=n.userDataForm.get("phone"))?null:m.errors)),e.xp6(3),e.Q6J("ngIf",(null==(f=n.userDataForm.get("city"))?null:f.touched)&&(null==(f=n.userDataForm.get("city"))?null:f.errors)),e.xp6(1),e.Q6J("disabled",!n.userDataForm.valid)}},dependencies:[c.ez,c.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u]})}return r})();var D=l(1409),b=l(4670),Q=l(1508),Y=l(6286);const L=["container"];function E(r,d){if(1&r){const t=e.EpF();e.TgZ(0,"label",63),e._UZ(1,"input",64),e.TgZ(2,"div",65)(3,"div",42)(4,"span",54),e._uU(5),e.qZA(),e.TgZ(6,"p",55)(7,"span"),e._uU(8),e.qZA(),e._uU(9," / "),e.TgZ(10,"span"),e._uU(11),e.qZA(),e._uU(12," / "),e.TgZ(13,"span"),e._uU(14),e.qZA()()(),e.TgZ(15,"a",66),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removeAddress(i._id))}),e._UZ(16,"i",67),e._uU(17," Remove "),e.qZA()()()}if(2&r){const t=d.$implicit,s=d.index;e.Q6J("for",t.name),e.xp6(1),e.Q6J("value","details:"+t.details+",city:"+t.city+",phone:"+t.phone)("id",t.name)("checked",0==s),e.xp6(4),e.Oqu(t.name),e.xp6(3),e.Oqu(t.city),e.xp6(3),e.Oqu(t.details),e.xp6(3),e.Oqu(t.phone)}}function M(r,d){1&r&&(e.TgZ(0,"p",69),e._uU(1," Address is required "),e.qZA())}function P(r,d){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,M,2,0,"p",68),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.orderOptionsForm.getError)}}function S(r,d){1&r&&(e.TgZ(0,"span"),e._uU(1,"..."),e.qZA())}const V=function(r){return{"background-image":r}};function j(r,d){if(1&r&&(e.TgZ(0,"li",76)(1,"div",5)(2,"div",6),e._UZ(3,"div",77),e.TgZ(4,"span",78),e._uU(5),e.ALo(6,"cutText"),e.YNc(7,S,2,0,"span",60),e.qZA()(),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.TgZ(10,"span"),e._uU(11),e.qZA()()()),2&r){const t=d.$implicit;e.xp6(3),e.Q6J("ngStyle",e.VKq(8,V,"url("+t.product.imageCover+")")),e.xp6(2),e.hij(" ",e.xi3(6,5,t.product.title,10)," "),e.xp6(2),e.Q6J("ngIf",t.product.title.length>10),e.xp6(2),e.hij(" ",t.count," "),e.xp6(2),e.hij(" ",t.price,".00 LE ")}}function R(r,d){if(1&r&&(e.TgZ(0,"div",70)(1,"div",71)(2,"h4",72),e._uU(3,"Order Details"),e.qZA(),e.TgZ(4,"ul",73),e.YNc(5,j,12,10,"li",74),e.qZA(),e.TgZ(6,"h5",75)(7,"span"),e._uU(8,"Subtotal:"),e.qZA(),e._uU(9),e.qZA()()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.cart.data.products),e.xp6(4),e.hij(" ",t.cart.data.totalCartPrice,".00 LE")}}let z=(()=>{class r{constructor(t,s,n,i,a,m){this._router=t,this.router=s,this._orders=n,this._cart=i,this._address=a,this._FormBuilder=m,this.Subscription=[],this.formValid=!1,this.address=!0,this.time=!1,this.instructions=!1,this.payment=!1,this.showLayer=!1,this.orderOptionsForm=this._FormBuilder.group({address:["",o.kI.required],paymentMethod:["cash",o.kI.required]})}ngOnInit(){this.getCartId(),this.getAddresses()}getCartId(){const t=this.router.paramMap.subscribe({next:s=>{this.cartid=s.get("cartId"),this.getCart()}});this.Subscription.push(t)}triggerComp(){this.showLayer=!1,this.container.clear(),this.getAddresses()}getCart(){const t=this._cart.getUserCart().subscribe({next:s=>{this.cart=s}});this.Subscription.push(t)}getAddresses(){const t=this._address.getAddresses().subscribe({next:s=>{this.addresses=s.data}});this.Subscription.push(t)}removeAddress(t){const s=this._address.removeAddress(t).subscribe({next:n=>{this.orderOptionsForm.get("address")?.patchValue(""),this.getAddresses()}});this.Subscription.push(s)}generateDynamicComponent(){this.showLayer=!0,setTimeout(()=>{this.container.clear();const s=this.container.createComponent(I).instance.clearViewContainer.subscribe(n=>this.clear());this.Subscription.push(s)},100)}clear(){this.container.clear(),this.getAddresses()}show(t){"address"==t.target.attributes[5].nodeValue&&(this.address=!this.address,this.time=!1,this.instructions=!1,this.payment=!1),"time"==t.target.attributes[5].nodeValue&&(this.address=!1,this.time=!this.time,this.instructions=!1,this.payment=!1),"instructions"==t.target.attributes[5].nodeValue&&(this.address=!1,this.time=!1,this.instructions=!this.instructions,this.payment=!1),"payment"==t.target.attributes[5].nodeValue&&(this.address=!1,this.time=!1,this.instructions=!1,this.payment=!this.payment)}collapse(t){const s=Array.from(t.target.attributes).filter(n=>"aria-controls"==n.nodeName)[0];this.address=!1,this.time=!1,this.instructions=!1,this.payment=!1,setTimeout(()=>{"address"==s.nodeValue&&(this.address=!0),"time"==s.nodeValue&&(this.time=!0),"instructions"==s.nodeValue&&(this.instructions=!0),"payment"==s.nodeValue&&(this.payment=!0)},50)}handelform(){if(this.orderOptionsForm.valid){const t={shippingAddress:{details:this.orderOptionsForm.value.address.split(",")[0].split(":")[1],city:this.orderOptionsForm.value.address.split(",")[1].split(":")[1],phone:this.orderOptionsForm.value.address.split(",")[2].split(":")[1]}};if("cash"==this.orderOptionsForm.value.paymentMethod){const s=this._orders.createCashOrder(this.cart.data._id,t).subscribe({next:n=>{"success"==n.status&&(this._cart.cartItemsnumber.next(0),this._router.navigate(["/allorders"]))}});this.Subscription.push(s)}else if("card"==this.orderOptionsForm.value.paymentMethod){const s=this._orders.createCreditOrder(this.cart.data._id,t).subscribe({next:n=>{window.open(n.session.url,"_self")}});this.Subscription.push(s)}}else this.formValid=!0}ngOnDestroy(){this.Subscription.forEach(t=>t.unsubscribe())}static#e=this.\u0275fac=function(s){return new(s||r)(e.Y36(b.F0),e.Y36(b.gz),e.Y36(Q.N),e.Y36(Y.N),e.Y36(p),e.Y36(o.qu))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-check-out"]],viewQuery:function(s,n){if(1&s&&e.Gf(L,5,e.s_b),2&s){let i;e.iGM(i=e.CRH())&&(n.container=i.first)}},standalone:!0,features:[e.jDz],decls:138,vars:10,consts:[[1,"mb-5"],[1,"row","justify-content-between","flex-column-reverse","flex-xl-row","g-3"],[1,"col-xl-7"],[3,"formGroup","ngSubmit"],[1,"address","mb-3","border-bottom","border-1"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"fa-solid","fa-location-dot",2,"width","30px"],["data-bs-toggle","collapse","href","#address","role","button","aria-expanded","false","aria-controls","address",1,"text-black","text-decoration-none","fs-5","sec-title","py-3",3,"click"],["type","button",1,"btn-main-outline","text-nowrap",3,"click"],["id","address",1,"collapse",3,"ngClass"],[1,""],["class","d-flex align-items-center border border-1 p-3 rounded-3 mt-3",3,"for",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","py-3"],["data-bs-toggle","collapse","href","#time","role","button","type","button","aria-expanded","true","aria-controls","time",1,"btn-main","px-3","py-2",3,"disabled","click"],[1,"delivery-time","my-3","border-bottom","border-1"],[1,"d-flex","justify-content-between"],["data-bs-toggle","collapse","href","#time","role","button","aria-expanded","false","aria-controls","time",1,"text-black","text-decoration-none","fs-5","sec-title",3,"click"],[1,"fa-regular","fa-clock",2,"width","30px"],["id","time",1,"collapse",3,"ngClass"],[1,"d-flex","justify-content-between","p-0","align-items-center"],[1,"py-2","px-4","btn-main","d-flex","flex-column"],[1,"py-2","px-4","btn-light","d-flex","flex-column"],[1,"list-unstyled","m-0","p-0"],[1,"border-bottom","border-1","py-3"],["type","radio","id","time2","name","time","value","2hs"],["for","time2",1,"ms-2"],["type","radio","id","time3","name","time","value","3hs"],["for","time3",1,"ms-2"],["type","radio","id","time1-2","name","time","value","1-2 pm"],["for","time1-2",1,"ms-2"],["type","radio","id","time2-3","name","time","value","2-3 pm"],["for","time2-3",1,"ms-2"],[1,"pt-3"],["type","radio","id","time3-4","name","time","value","3-4 pm"],["for","time3-4",1,"ms-2"],["data-bs-toggle","collapse","href","#address","role","button","type","button","aria-expanded","false","aria-controls","address",1,"btn-main-outline","px-3","py-2","me-3",3,"click"],["data-bs-toggle","collapse","href","#instructions","role","button","type","button","aria-expanded","false","aria-controls","instructions",1,"btn-main","px-3","py-2",3,"click"],[1,"delivery-instructions","my-3","border-bottom","border-1"],["data-bs-toggle","collapse","href","#instructions","role","button","aria-expanded","false","aria-controls","instructions",1,"text-black","text-decoration-none","fs-5","sec-title",3,"click"],[1,"fa-solid","fa-bag-shopping",2,"width","30px"],["id","instructions",1,"collapse",3,"ngClass"],[1,"d-flex","flex-column"],["name","","id","","cols","30","rows","3","placeholder","Write Delivery instructions",1,"rounded-3","p-3",2,"margin-top","10px","margin-bottom","5px","font-size","16px","border-color","lightgray"],[1,"small-gray"],["data-bs-toggle","collapse","href","#time","role","button","type","button","aria-expanded","false","aria-controls","time",1,"btn-main-outline","px-3","py-2","me-3",3,"click"],["data-bs-toggle","collapse","href","#payment","role","button","type","button","aria-expanded","false","aria-controls","payment",1,"btn-main","px-3","py-2",3,"click"],[1,"payment-method","my-3"],["data-bs-toggle","collapse","href","#payment","role","button","aria-expanded","false","aria-controls","payment",1,"text-black","text-decoration-none","fs-5","sec-title",3,"click"],[1,"fa-solid","fa-credit-card",2,"width","30px"],["id","payment",1,"collapse",3,"ngClass"],["for","cash",1,"d-flex","align-items-center","border","border-1","p-3","rounded-3"],["formControlName","paymentMethod","type","radio","value","cash","name","paymentMethod","id","cash","checked",""],[1,"d-flex","flex-column","ms-3"],[1,"fs-6","mb-2"],[1,"m-0",2,"font-size","12px","color","gray"],["for","card",1,"d-flex","align-items-center","border","border-1","p-3","rounded-3","mt-3"],["formControlName","paymentMethod","type","radio","value","card","name","paymentMethod","id","card"],["data-bs-toggle","collapse","href","#instructions","type","button","role","button","aria-expanded","false","aria-controls","instructions",1,"btn-main-outline","px-3","py-2","me-3",3,"click"],["type","submit",1,"btn-main","px-3","py-2",3,"disabled"],[4,"ngIf"],["class","col-xl-4",4,"ngIf"],["container",""],[1,"d-flex","align-items-center","border","border-1","p-3","rounded-3","mt-3",3,"for"],["type","radio","formControlName","address","name","address",3,"value","id","checked"],[1,"d-flex","justify-content-between","flex-grow-1","align-items-end","ms-3"],["role","button",1,"text-danger","text-decoration-none",3,"click"],[1,"fa-regular","fa-trash-can","text-danger"],["class","my-3 text-danger",4,"ngIf"],[1,"my-3","text-danger"],[1,"col-xl-4"],[1,"border-1","border","py-3","rounded-3"],[1,"px-4","pb-3","border-bottom","border-1"],[1,"p-0","m-0","list-unstyled"],["class","px-4 py-2 border-bottom border-1 ",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","px-4","pt-3"],[1,"px-4","py-2","border-bottom","border-1"],[2,"height","50px","width","50px","background-size","cover","background-position","center center",3,"ngStyle"],[1,"align-self-start","jus-sel"]],template:function(s,n){if(1&s&&(e.TgZ(0,"div")(1,"h1",0),e._uU(2," Checkout "),e.qZA()(),e.TgZ(3,"div")(4,"div",1)(5,"div",2)(6,"form",3),e.NdJ("ngSubmit",function(){return n.handelform()}),e.TgZ(7,"div")(8,"div",4)(9,"div",5)(10,"div",6),e._UZ(11,"i",7),e.TgZ(12,"a",8),e.NdJ("click",function(a){return n.show(a)}),e._uU(13," Add delivery address "),e.qZA()(),e.TgZ(14,"button",9),e.NdJ("click",function(){return n.generateDynamicComponent()}),e._uU(15," Add a new Address "),e.qZA()(),e.TgZ(16,"div",10)(17,"div",11),e.YNc(18,E,18,8,"label",12),e.TgZ(19,"div",13)(20,"button",14),e.NdJ("click",function(a){return n.collapse(a)}),e._uU(21," Next "),e.qZA()()()()(),e.TgZ(22,"div",15)(23,"p",16)(24,"a",17),e.NdJ("click",function(a){return n.show(a)}),e._UZ(25,"i",18),e._uU(26," Delivery time "),e.qZA()(),e.TgZ(27,"div",19)(28,"div",11)(29,"ul",20)(30,"li",21)(31,"span"),e._uU(32," Today "),e.qZA(),e.TgZ(33,"span"),e._uU(34," oct 15 "),e.qZA()(),e.TgZ(35,"li",22)(36,"span"),e._uU(37," Today "),e.qZA(),e.TgZ(38,"span"),e._uU(39," oct 15 "),e.qZA()(),e.TgZ(40,"li",22)(41,"span"),e._uU(42," Today "),e.qZA(),e.TgZ(43,"span"),e._uU(44," oct 15 "),e.qZA()(),e.TgZ(45,"li",22)(46,"span"),e._uU(47," Today "),e.qZA(),e.TgZ(48,"span"),e._uU(49," oct 15 "),e.qZA()(),e.TgZ(50,"li",22)(51,"span"),e._uU(52," Today "),e.qZA(),e.TgZ(53,"span"),e._uU(54," oct 15 "),e.qZA()(),e.TgZ(55,"li",22)(56,"span"),e._uU(57," Today "),e.qZA(),e.TgZ(58,"span"),e._uU(59," oct 15 "),e.qZA()(),e.TgZ(60,"li",22)(61,"span"),e._uU(62," Today "),e.qZA(),e.TgZ(63,"span"),e._uU(64," oct 15 "),e.qZA()()(),e.TgZ(65,"ul",23)(66,"li",24),e._UZ(67,"input",25),e.TgZ(68,"label",26),e._uU(69,"Within 2 Hours"),e.qZA()(),e.TgZ(70,"li",24),e._UZ(71,"input",27),e.TgZ(72,"label",28),e._uU(73,"Within 3 Hours "),e.qZA()(),e.TgZ(74,"li",24),e._UZ(75,"input",29),e.TgZ(76,"label",30),e._uU(77,"1pm - 2pm"),e.qZA()(),e.TgZ(78,"li",24),e._UZ(79,"input",31),e.TgZ(80,"label",32),e._uU(81,"2pm - 3pm"),e.qZA()(),e.TgZ(82,"li",33),e._UZ(83,"input",34),e.TgZ(84,"label",35),e._uU(85,"3pm - 4pm"),e.qZA()()()(),e.TgZ(86,"div",13)(87,"button",36),e.NdJ("click",function(a){return n.collapse(a)}),e._uU(88," Prev "),e.qZA(),e.TgZ(89,"button",37),e.NdJ("click",function(a){return n.collapse(a)}),e._uU(90," Next "),e.qZA()()()(),e.TgZ(91,"div",38)(92,"p",16)(93,"a",39),e.NdJ("click",function(a){return n.show(a)}),e._UZ(94,"i",40),e._uU(95," Delivery instructions "),e.qZA()(),e.TgZ(96,"div",41)(97,"div",42)(98,"span"),e._uU(99,"Delivery instructions"),e.qZA(),e._UZ(100,"textarea",43),e.TgZ(101,"p",44),e._uU(102,"Add instructions for how you want your order shopped and/or delivered"),e.qZA(),e.TgZ(103,"div",13)(104,"button",45),e.NdJ("click",function(a){return n.collapse(a)}),e._uU(105," Prev "),e.qZA(),e.TgZ(106,"button",46),e.NdJ("click",function(a){return n.collapse(a)}),e._uU(107," Next "),e.qZA()()()()(),e.TgZ(108,"div",47)(109,"p",16)(110,"a",48),e.NdJ("click",function(a){return n.show(a)}),e._UZ(111,"i",49),e._uU(112," Payment Method "),e.qZA()(),e.TgZ(113,"div",50)(114,"div",11)(115,"label",51),e._UZ(116,"input",52),e.TgZ(117,"div",53)(118,"span",54),e._uU(119,"Cash on Delivery"),e.qZA(),e.TgZ(120,"p",55),e._uU(121,"Pay with cash when your order is delivered."),e.qZA()()(),e.TgZ(122,"label",56),e._UZ(123,"input",57),e.TgZ(124,"div",53)(125,"span",54),e._uU(126,"Credit / Debit Card"),e.qZA(),e.TgZ(127,"p",55),e._uU(128,"Safe money transfer using your bank accou k account. We support Mastercard tercard, Visa, Discover and Stripe."),e.qZA()()(),e.TgZ(129,"div",13)(130,"button",58),e.NdJ("click",function(a){return n.collapse(a)}),e._uU(131," Prev "),e.qZA(),e.TgZ(132,"button",59),e._uU(133," Place Order "),e.qZA()(),e.YNc(134,P,2,1,"div",60),e.qZA()()()()()(),e.YNc(135,R,10,2,"div",61),e.qZA()(),e.GkF(136,null,62)),2&s){let i;e.xp6(6),e.Q6J("formGroup",n.orderOptionsForm),e.xp6(10),e.Q6J("ngClass",n.address?"show":""),e.xp6(2),e.Q6J("ngForOf",n.addresses),e.xp6(2),e.Q6J("disabled",!(null!=(i=n.orderOptionsForm.get("address"))&&i.valid)),e.xp6(7),e.Q6J("ngClass",n.time?"show":""),e.xp6(69),e.Q6J("ngClass",n.instructions?"show":""),e.xp6(17),e.Q6J("ngClass",n.payment?"show":""),e.xp6(19),e.Q6J("disabled",!n.orderOptionsForm.valid),e.xp6(2),e.Q6J("ngIf",n.formValid),e.xp6(1),e.Q6J("ngIf",null!=n.cart)}},dependencies:[c.ez,c.mk,c.sg,c.O5,c.PC,o.UX,o._Y,o.Fj,o._,o.JJ,o.JL,o.sg,o.u,D.Q],styles:["i[_ngcontent-%COMP%]{font-size:18px;color:gray}.sec-title[_ngcontent-%COMP%]:hover{color:green!important}.small-gray[_ngcontent-%COMP%]{font-size:12px;color:gray}"]})}return r})()},6286:(Z,h,l)=>{l.d(h,{N:()=>g});var e=l(9862),c=l(5619),o=l(4946);let g=(()=>{class p{constructor(u){this._httpclient=u,this.cartItemsnumber=new c.X(0),this.newCartItemAdded=new c.X(0),this.baseURL="https://ecommerce.routemisr.com/api/v1/cart",this.headers=new e.WM({token:localStorage.getItem("token")})}addProductToCart(u){return this._httpclient.post(this.baseURL,{productId:u},{headers:this.headers})}getUserCart(){return this._httpclient.get(this.baseURL,{headers:this.headers})}removeProduct(u){return this._httpclient.delete(this.baseURL+"/"+u,{headers:this.headers})}updateCount(u,_){return this._httpclient.put(this.baseURL+"/"+u,{count:`${_}`},{headers:this.headers})}static#e=this.\u0275fac=function(_){return new(_||p)(o.LFG(e.eN))};static#t=this.\u0275prov=o.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()}}]);