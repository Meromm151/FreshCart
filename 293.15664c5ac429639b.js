"use strict";(self.webpackChunkfreshCart=self.webpackChunkfreshCart||[]).push([[293],{5293:(T,a,c)=>{c.r(a),c.d(a,{AllOrdersComponent:()=>y});var s=c(6814);class l extends Error{}l.prototype.name="InvalidTokenError";var e=c(4946);function f(r,o){1&r&&(e.TgZ(0,"span"),e._uU(1,"..."),e.qZA())}const m=function(r){return{"background-image":r}};function h(r,o){if(1&r&&(e.TgZ(0,"div",15)(1,"div",16),e._UZ(2,"div",17),e.TgZ(3,"div",18)(4,"div",19)(5,"h6"),e._uU(6),e.YNc(7,f,2,0,"span",20),e.qZA()(),e.TgZ(8,"div",21)(9,"div",22),e._uU(10),e.qZA(),e.TgZ(11,"span"),e._uU(12),e.qZA()()()()()),2&r){const t=o.$implicit;e.xp6(2),e.Q6J("ngStyle",e.VKq(5,m,"url("+t.product.imageCover+")")),e.xp6(4),e.hij(" ",t.product.title," "),e.xp6(1),e.Q6J("ngIf",t.product.title.length>25),e.xp6(3),e.hij(" ",t.count," "),e.xp6(2),e.hij("",t.price*t.count,".00 LE")}}function v(r,o){if(1&r&&(e.TgZ(0,"div",2)(1,"div")(2,"div",3)(3,"span",4),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"div")(7,"span",4),e._uU(8),e.qZA()()(),e.TgZ(9,"div",5)(10,"div",6)(11,"div",0),e.YNc(12,h,13,7,"div",7),e.qZA()(),e.TgZ(13,"div",8)(14,"h4"),e._uU(15,"Summary"),e.qZA(),e.TgZ(16,"div",9)(17,"ul",10)(18,"li",11)(19,"span"),e._uU(20,"Payment Method"),e.qZA(),e.TgZ(21,"span"),e._uU(22),e.qZA()(),e.TgZ(23,"li",12)(24,"span"),e._uU(25," Payment State "),e.qZA(),e.TgZ(26,"span"),e._uU(27),e.qZA()(),e.TgZ(28,"li",12)(29,"span"),e._uU(30," Delivery State "),e.qZA(),e.TgZ(31,"span"),e._uU(32),e.qZA()(),e.TgZ(33,"li",12)(34,"span"),e._uU(35," Item Subtotal "),e.qZA(),e.TgZ(36,"span"),e._uU(37),e.qZA()(),e.TgZ(38,"li",13)(39,"span"),e._uU(40," Service Fee "),e.qZA(),e.TgZ(41,"span"),e._uU(42),e.qZA()(),e.TgZ(43,"li",14)(44,"span"),e._uU(45," Subtotal "),e.qZA(),e.TgZ(46,"span"),e._uU(47),e.qZA()()()()()()()()),2&r){const t=e.oxw();e.xp6(4),e.Oqu(e.xi3(5,11,t.selectedOrder.createdAt,"longDate")),e.xp6(4),e.lnq("",t.selectedOrder.shippingAddress.city,"/",t.selectedOrder.shippingAddress.details,"/",t.selectedOrder.shippingAddress.phone,""),e.xp6(4),e.Q6J("ngForOf",t.selectedOrder.cartItems),e.xp6(10),e.Oqu(t.selectedOrder.paymentMethodType),e.xp6(5),e.Oqu(t.selectedOrder.isPaid?"Paid":"Not Paid"),e.xp6(5),e.Oqu(t.selectedOrder.isDelivered?"Delivered":"Not Delivered"),e.xp6(5),e.hij("",t.selectedOrder.totalOrderPrice,".00 LE"),e.xp6(5),e.hij("",0,".00 LE"),e.xp6(5),e.hij("",t.selectedOrder.totalOrderPrice,".00 LE")}}let _=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-order"]],inputs:{selectedOrder:"selectedOrder"},standalone:!0,features:[e.jDz],decls:2,vars:1,consts:[[1,"row"],["class"," col-12 overflow-y-scroll h-100",4,"ngIf"],[1,"col-12","overflow-y-scroll","h-100"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"small"],[1,"row","align-items-start","g-3"],[1,"col-xl-8"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-xl-4"],[1,"border-1","border","light-border","rounded-3","p-2","px-0"],[1,"p-0","m-0"],[1,"d-flex","justify-content-between","px-3","align-items-center","pb-2","border-1","light-border","border-bottom"],[1,"d-flex","justify-content-between","py-2","px-3","align-items-center","pb-2","border-1","light-border","border-bottom"],[1,"d-flex","justify-content-between","align-items-center","py-2","border-1","light-border","border-bottom","px-3"],[1,"d-flex","justify-content-between","align-items-center","pt-2","px-3"],[1,"col-12"],[1,"d-flex","justify-content-between","mt-2","product"],[2,"width","25%","height","120px","background-size","cover","background-position","center center",3,"ngStyle"],[1,"w-75","d-flex","justify-content-center","justify-content-lg-between","align-items-center","p-3","flex-wrap","flex-lg-nowrap"],[1,"w-50"],[4,"ngIf"],[1,"d-flex","flex-column","align-items-center","align-items-lg-end","justify-content-between"],[1,"rounded-3","overflow-hidden","my-2","d-inline-block"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0),e.YNc(1,v,48,14,"div",1),e.qZA()),2&n&&(e.xp6(1),e.Q6J("ngIf",null!=i.selectedOrder))},dependencies:[s.ez,s.sg,s.O5,s.PC,s.uU],styles:[".height[_ngcontent-%COMP%]{height:75vh}.small[_ngcontent-%COMP%]{transition:.3s;font-style:12px;color:gray}.order[_ngcontent-%COMP%]:hover{transition:.3s;border:1px solid #0aad0a!important}.active[_ngcontent-%COMP%]{background-color:#0aad0a;color:#fff}.active[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#fff!important}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}"]})}return r})();var O=c(1508);function b(r,o){1&r&&(e.TgZ(0,"span"),e._UZ(1,"i",13),e.qZA())}function x(r,o){1&r&&(e.TgZ(0,"span"),e._UZ(1,"i",14),e.qZA())}function Z(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){const d=e.CHM(t).index,C=e.oxw();return e.KtG(C.selectOrder(d))}),e.TgZ(1,"div",2)(2,"span",10),e._uU(3),e.qZA(),e.TgZ(4,"span",11),e._uU(5),e.qZA(),e.TgZ(6,"span",10),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",12)(10,"span"),e._uU(11),e.qZA(),e.YNc(12,b,2,0,"span",7),e.YNc(13,x,2,0,"span",7),e.qZA()()}if(2&r){const t=o.$implicit,n=o.index,i=e.oxw();e.Q6J("ngClass",i.activeOrder==n?"active":""),e.xp6(3),e.lnq("",t.shippingAddress.city,"/",t.shippingAddress.details,"/",t.shippingAddress.phone,""),e.xp6(2),e.Oqu(t.isDelivered?"Delivered":"Not Delivered"),e.xp6(2),e.Oqu(e.xi3(8,9,t.createdAt,"longDate")),e.xp6(4),e.hij("",t.totalOrderPrice,".00 LE"),e.xp6(1),e.Q6J("ngIf","cash"==t.paymentMethodType),e.xp6(1),e.Q6J("ngIf","card"==t.paymentMethodType)}}function A(r,o){1&r&&(e.TgZ(0,"div")(1,"h3",15),e._uU(2,"Select an order"),e.qZA()())}let y=(()=>{class r{constructor(t){this._OrdersService=t,this.Subscription=[],this.activeOrder=-1,this.decode=function u(r,o){if("string"!=typeof r)throw new l("Invalid token specified: must be a string");o||(o={});const t=!0===o.header?0:1,n=r.split(".")[t];if("string"!=typeof n)throw new l(`Invalid token specified: missing part #${t+1}`);let i;try{i=function g(r){let o=r.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function p(r){return decodeURIComponent(atob(r).replace(/(.)/g,(o,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}(o)}catch{return atob(o)}}(n)}catch(d){throw new l(`Invalid token specified: invalid base64 for part #${t+1} (${d.message})`)}try{return JSON.parse(i)}catch(d){throw new l(`Invalid token specified: invalid json for part #${t+1} (${d.message})`)}}(localStorage.getItem("token"))}ngOnInit(){this.getAllOrders()}getAllOrders(){const t=this._OrdersService.getUserOrders(this.decode.id).subscribe({next:n=>{this.orders=n},error:n=>{}});this.Subscription.push(t)}selectOrder(t){this.activeOrder=t,this.selectedOrder=this.orders[t]}resetActivOrder(){this.activeOrder=-1}ngOnDestroy(){this.Subscription.forEach(t=>t.unsubscribe())}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(O.N))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-all-orders"]],standalone:!0,features:[e.jDz],decls:9,vars:6,consts:[[1,"row","align-items-stretch"],[1,"col-lg-4","border-end","border-1","overflow-y-scroll","height",3,"ngClass"],[1,"d-flex","flex-column"],["class","border rounded-3 border-1 d-flex justify-content-between py-2 px-3 mb-3 order","role","button",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col-lg-8","d-lg-block",3,"ngClass"],[1,"",3,"ngClass"],[1,"fa-solid","fa-arrow-left","cursor-pointer","p-2",3,"click"],[4,"ngIf"],[3,"selectedOrder"],["role","button",1,"border","rounded-3","border-1","d-flex","justify-content-between","py-2","px-3","mb-3","order",3,"ngClass","click"],[1,"small"],[1,"change-color"],[1,"d-flex","flex-column","justify-content-between","align-items-end","change-color"],[1,"fa-solid","fa-sack-dollar"],[1,"fa-solid","fa-credit-card"],[1,"text-main","pt-4","ps-3"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,Z,14,12,"div",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5)(6,"i",6),e.NdJ("click",function(){return i.resetActivOrder()}),e.qZA()(),e.YNc(7,A,3,0,"div",7),e._UZ(8,"app-order",8),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngClass",i.activeOrder>=0?"d-none d-lg-block":"d-block"),e.xp6(2),e.Q6J("ngForOf",i.orders),e.xp6(1),e.Q6J("ngClass",i.activeOrder>=0?"d-block":"d-none"),e.xp6(1),e.Q6J("ngClass",i.activeOrder>=0?"d-block d-lg-none":"d-none"),e.xp6(2),e.Q6J("ngIf",i.activeOrder<0),e.xp6(1),e.Q6J("selectedOrder",i.selectedOrder))},dependencies:[s.ez,s.mk,s.sg,s.O5,s.uU,_],styles:[".small[_ngcontent-%COMP%]{transition:.3s;font-style:12px;color:gray}.order[_ngcontent-%COMP%]:hover{transition:.3s;border:1px solid #0aad0a!important}.active[_ngcontent-%COMP%]{background-color:#0aad0a;color:#fff}.active[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#fff!important}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}@media screen and (min-width: 960px){.height[_ngcontent-%COMP%]{height:75vh!important}}"]})}return r})()}}]);